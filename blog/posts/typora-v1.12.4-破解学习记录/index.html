<!doctype html><html lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Typora v1.12.4 破解学习记录 - Levin的小屋</title><meta name=Description content="学习爱好者"><meta property="og:url" content="https://wanqian6311.github.io/blog/posts/typora-v1.12.4-%E7%A0%B4%E8%A7%A3%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"><meta property="og:site_name" content="Levin的小屋"><meta property="og:title" content="Typora v1.12.4 破解学习记录"><meta property="og:description" content="学习爱好者"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-01-22T19:59:44+08:00"><meta property="article:modified_time" content="2026-01-22T20:54:58+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Typora v1.12.4 破解学习记录"><meta name=twitter:description content="学习爱好者"><meta name=application-name content="欢迎来到Levin的小屋"><meta name=apple-mobile-web-app-title content="欢迎来到Levin的小屋"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=https://wanqian6311.github.io/blog/img/logo/touxiang.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#DCDCDC><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://wanqian6311.github.io/blog/posts/typora-v1.12.4-%E7%A0%B4%E8%A7%A3%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/><link rel=prev href=https://wanqian6311.github.io/blog/posts/typora-v1.12.4-%E8%AF%95%E7%94%A8%E6%9C%9F%E9%87%8D%E7%BD%AE%E4%B8%8E%E5%BC%B9%E7%AA%97%E6%8B%A6%E6%88%AA/><link rel=next href=https://wanqian6311.github.io/blog/posts/sqlmap%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/><link rel=stylesheet href=/blog/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Typora v1.12.4 破解学习记录","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/wanqian6311.github.io\/blog\/posts\/typora-v1.12.4-%E7%A0%B4%E8%A7%A3%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95\/"},"genre":"posts","wordcount":3459,"url":"https:\/\/wanqian6311.github.io\/blog\/posts\/typora-v1.12.4-%E7%A0%B4%E8%A7%A3%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95\/","datePublished":"2026-01-22T19:59:44+08:00","dateModified":"2026-01-22T20:54:58+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Levin"},"description":"学习爱好者"}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/blog/ title=Levin的小屋><img class="lazyload logo" src=/blog/svg/loading.min.svg data-src=https://wanqian6311.github.io/blog/img/logo/touxiang.png data-srcset="https://wanqian6311.github.io/blog/img/logo/touxiang.png, https://wanqian6311.github.io/blog/img/logo/touxiang.png 1.5x, https://wanqian6311.github.io/blog/img/logo/touxiang.png 2x" data-sizes=auto alt=https://wanqian6311.github.io/blog/img/logo/touxiang.png title=https://wanqian6311.github.io/blog/img/logo/touxiang.png>Levin的小屋</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/blog/posts/>文章 </a><a class=menu-item href=/blog/tags/>标签 </a><a class=menu-item href=/blog/categories/>分类 </a><a class=menu-item href=/Gellary/ title=照片墙>Gellary </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/blog/ title=Levin的小屋><img class="lazyload logo" src=/blog/svg/loading.min.svg data-src=https://wanqian6311.github.io/blog/img/logo/touxiang.png data-srcset="https://wanqian6311.github.io/blog/img/logo/touxiang.png, https://wanqian6311.github.io/blog/img/logo/touxiang.png 1.5x, https://wanqian6311.github.io/blog/img/logo/touxiang.png 2x" data-sizes=auto alt=https://wanqian6311.github.io/blog/img/logo/touxiang.png title=https://wanqian6311.github.io/blog/img/logo/touxiang.png>Levin的小屋</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/blog/posts/ title>文章</a><a class=menu-item href=/blog/tags/ title>标签</a><a class=menu-item href=/blog/categories/ title>分类</a><a class=menu-item href=/Gellary/ title=照片墙>Gellary</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Typora v1.12.4 破解学习记录</h1><h2 class=single-subtitle>Typora v1.12.4破解</h2><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://github.com/wanqian6311 title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Levin</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2026-01-22>2026-01-22</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;约 3459 字&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;预计阅读 7 分钟&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#typora-v1124-破解学习>Typora v1.12.4 破解学习</a><ul><li><a href=#1安装nodojs>1、安装nodojs</a></li><li><a href=#2安装typroa>2、安装Typroa</a></li><li><a href=#3开始激活>3、开始激活</a></li></ul></li></ul></nav></div></div><div class=content id=content><h2 id=typora-v1124-破解学习>Typora v1.12.4 破解学习</h2><h3 id=1安装nodojs>1、安装nodojs</h3><p><img class=lazyload src=/blog/svg/loading.min.svg data-src=https://wanqian6311.github.io/blog/images/Typora%20v1.12.4%20%e7%a0%b4%e8%a7%a3%e5%ad%a6%e4%b9%a0%e8%ae%b0%e5%bd%95/img/Pasted-image20260122200106.png data-srcset="https://wanqian6311.github.io/blog/images/Typora%20v1.12.4%20%e7%a0%b4%e8%a7%a3%e5%ad%a6%e4%b9%a0%e8%ae%b0%e5%bd%95/img/Pasted-image20260122200106.png, https://wanqian6311.github.io/blog/images/Typora%20v1.12.4%20%e7%a0%b4%e8%a7%a3%e5%ad%a6%e4%b9%a0%e8%ae%b0%e5%bd%95/img/Pasted-image20260122200106.png 1.5x, https://wanqian6311.github.io/blog/images/Typora%20v1.12.4%20%e7%a0%b4%e8%a7%a3%e5%ad%a6%e4%b9%a0%e8%ae%b0%e5%bd%95/img/Pasted-image20260122200106.png 2x" data-sizes=auto alt=https://wanqian6311.github.io/blog/images/Typora%20v1.12.4%20破解学习记录/img/Pasted-image20260122200106.png title=Pasted-image20260122200106></p><h3 id=2安装typroa>2、安装Typroa</h3><h4 id=打开tyroa选择输入激活码-离线激活-复制机器码到记事本-关闭程序>打开Tyroa，选择输入激活码->离线激活->复制机器码到记事本->关闭程序</h4><h4 id=复制下面的脚本到安装目录下dtyporaresources文件夹内创建pjjs文件>复制下面的脚本到安装目录下<code>D:\Typora\resources</code>文件夹内创建<code>pj.js</code>文件</h4><p><strong>修改209行的路径为安装路径const Typora_Installation_Path = &ldquo;D:\Typora&rdquo;;</strong></p><p><strong>脚本来源:https://www.52pojie.cn/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=2084047&amp;pid=54623222</strong></p><pre tabindex=0><code>const asar = require(&#34;asar&#34;);
const chalk = require(&#34;chalk&#34;);
const fs = require(&#34;fs&#34;);
const path = require(&#34;path&#34;);
const { execSync } = require(&#34;child_process&#34;);
const readlineSync = require(&#34;readline-sync&#34;);
const WinReg = require(&#34;winreg&#34;);
const { flipFuses, FuseV1Options, FuseVersion } = require(&#34;@electron/fuses&#34;);
 
function getInsertCode(EnableHookDebug, atobMachineCode, email, nowDateStr) {
    return `
/** Hook破解开始 */
const electron = require(&#34;electron&#34;);
 
// 是否启用劫持调试
const HookDebug = ${EnableHookDebug ? &#34;true&#34; : &#34;false&#34;};
 
// 调试日志定义
const LOG_PATH = &#34;.\\\\Typora_Hook_Log.txt&#34;;
//fs.rmSync(LOG_PATH, { force: true });
function writeLog(...data) {
    const log = \`[\${new Date().toLocaleString()}] [Log] \${data.join(
        &#34; &#34;
    )}\\n------------------\\n\`;
    fs.appendFileSync(LOG_PATH, log);
}
 
// 开启调试窗口，阻止关闭 app.quit 调用
// Hook Electron 模块，监控 BrowserWindow 实例化及阻止 app.quit 调用
// Node模块require后会进行缓存，即使再次require会指向同一个对象
if (HookDebug) {
    Object.defineProperty(electron.app, &#34;quit&#34;, {
        value: function () {
            writeLog(&#34;[&amp;#128737;&amp;#65039; 拦截] 程序试图调用 app.quit()，已阻止。&#34;);
        },
        writable: true,
        configurable: true,
    });
    electron.app.on(&#34;browser-window-created&#34;, (_event, win) =&gt; {
        writeLog(&#34;【&amp;#128064; 监控】检测到 BrowserWindow 实例化！&#34;);
 
        // 确保dom-ready后再打开DevTools 否则第一个窗口可能会无法打开
        win.webContents.once(&#34;dom-ready&#34;, () =&gt; {
            writeLog(&#34;【&amp;#128295;】打开 DevTools...&#34;);
            win.webContents.openDevTools({ mode: &#34;detach&#34; });
        });
    });
}
 
// Hook fs 模块，重定向对 resources/app 目录的访问
// resources/app/ → resources/app.bak/
const fsPathFrom = /resources[\\\\/]app[\\\\/]/i;
const fsPathTo = &#34;resources\\\\app.bak\\\\&#34;;
const fsHook = {};
[
    &#34;readFileSync&#34;,
    &#34;readFile&#34;,
    &#34;statSync&#34;,
    &#34;stat&#34;,
    &#34;Stats&#34;,
    &#34;StatsFs&#34;,
    &#34;open&#34;,
    &#34;openSync&#34;,
].forEach((property) =&gt; {
    fsHook[property] = fs[property];
    fs[property] = function (filePath, ...args) {
        if (typeof filePath == &#34;string&#34; &amp;&amp; fsPathFrom.test(filePath)) {
            const redirectPath = filePath.replace(fsPathFrom, fsPathTo);
            writeLog(
                \`[&amp;#128737;&amp;#65039; fsHook] 程序试图 fs.\${property} 重定向 \${filePath} --&gt; \${redirectPath}\`
            );
            return fsHook[property].call(this, redirectPath, ...args);
        }
        writeLog(\`[&amp;#128737;&amp;#65039; fsHook] 程序试图 fs.\${property} \${filePath}\`);
        return fsHook[property].call(this, filePath, ...args);
    };
});
const fsPromisesHook = {};
[&#34;readFile&#34;, &#34;open&#34;, &#34;stat&#34;].forEach((property) =&gt; {
    fsPromisesHook[property] = fs.promises[property];
    fs.promises[property] = async function (filePath, ...args) {
        if (typeof filePath == &#34;string&#34; &amp;&amp; fsPathFrom.test(filePath)) {
            const redirectPath = filePath.replace(fsPathFrom, fsPathTo);
            writeLog(
                \`[&amp;#128737;&amp;#65039; fsHook/Promises] 程序试图 fs.promises.\${property} 重定向 \${filePath} --&gt; \${redirectPath}\`
            );
            return fsPromisesHook[property].call(this, redirectPath, ...args);
        }
        writeLog(
            \`[&amp;#128737;&amp;#65039; fsHook/Promises] 程序试图 fs.promises.\${property} \${filePath}\`
        );
        return fsPromisesHook[property].call(this, filePath, ...args);
    };
});
 
// IPC 通信进行监控
if (HookDebug) {
    const invokeFilter = [&#34;document.addSnapAndLastSync&#34;, &#34;document.setContent&#34;];
    const originalIpcMainHandle = electron.ipcMain.handle;
    electron.ipcMain.handle = function (channel, listener) {
        // writeLog(\`[IPC 注册] .handle 监听频道: &#34;\${channel}&#34;\`);
        const filter = !invokeFilter.includes(channel);
        return originalIpcMainHandle.call(this, channel, async (event, ...args) =&gt; {
            filter &amp;&amp;
                writeLog(
                    \`[&amp;#128064;IPC 请求] 收到 .invoke(&#34;\${channel}&#34;) 参数:\`,
                    JSON.stringify(args)
                );
            try {
                const result = await listener(event, ...args);
                filter &amp;&amp;
                    writeLog(
                        \`[&amp;#128064;IPC 响应] .handle(&#34;\${channel}&#34;) 返回结果:\`,
                        JSON.stringify(result)
                    );
                return result;
            } catch (error) {
                filter &amp;&amp; writeLog(\`[&amp;#128064;IPC 错误] .handle(&#34;\${channel}&#34;) 执行出错:\`, error);
                throw error;
            }
        });
    };
}
 
 
const crypto = require(&#34;crypto&#34;);
 
const originalPublicDecrypt = crypto.publicDecrypt;
crypto.publicDecrypt = function (key, buffer) {
    if (HookDebug) {
        writeLog(&#34;-------------------------------------------&#34;);
        writeLog(&#34;【&amp;#128064; 监控】 crypto.publicDecrypt 被调用&#34;);
        writeLog(&#34;Key:&#34;, key);
        writeLog(&#34;Buffer (Hex):&#34;, buffer.toString(&#34;hex&#34;));
    }
    // return originalPublicDecrypt.call(this, key, buffer);
    // 直接返回伪造的明文 Buffer
    return Buffer.from(
        JSON.stringify({
            deviceId: &#34;${atobMachineCode.l}&#34;,
            fingerprint: &#34;${atobMachineCode.i}&#34;,
            email: &#34;${email}&#34;,
            license: &#34;Cracked_By_DreamNya&#34;,
            version: &#34;${atobMachineCode.v}&#34;,
            date: &#34;${nowDateStr}&#34;,
            type: &#34;DreamNya&#34;,
        })
    );
};
 
// 劫持联网验证
electron.app.whenReady().then(() =&gt; {
    electron.protocol.handle(&#34;https&#34;, async (request) =&gt; {
        writeLog(\`[&amp;#128064;electron.net Request] \${request.method} \${request.url}\`);
 
        writeLog(&#34;request.url typeof:&#34;, typeof request.url, &#34;value:&#34;, request.url);
        // 拦截目标请求，伪造响应
        if (request.url === &#34;https://store.typora.io/api/client/renew&#34;) {
            if (HookDebug){
                writeLog(\`[&amp;#128737;&amp;#65039; 拦截] 伪造激活验证响应: {success:true, msg: \${btoa(&#34;DreamNya&#34;)}}\`);
            }
            return new Response(
                JSON.stringify({ success: true, msg: btoa(&#34;DreamNya&#34;) }),
                {
                    status: 200,
                    headers: { &#34;content-type&#34;: &#34;application/json&#34; },
                }
            );
        }
 
        if (HookDebug) {
            // 尝试打印 Request Body
            try {
                const reqClone = request.clone();
                const reqBody = await reqClone.text();
                if (reqBody) {
                    writeLog(&#39;[electron.net Request Body]:&#39;, reqBody);
                }
            } catch { }
 
            // 其他请求正常转发
            const response = await electron.net.fetch(request, { bypassCustomProtocolHandlers: true });
 
            // 克隆响应用于日志
            const resClone = response.clone();
            resClone
                .text()
                .then((resText) =&gt; {
                    writeLog(\`[&amp;#128064;electron.net Response] \${response.status} \${request.url}\`);
                    writeLog(&#39;[electron.net Response Body]:&#39;, resText.substring(0, 500));
                })
                .catch((err) =&gt; {
                    console.error(&#39;[electron.net Response Error]:&#39;, err);
                });
 
            return response;
        }
 
 
    });
});
/** Hook破解结束 */
`;
}
 
let EnableBackup = false; // 是否备份原始文件
let EnableHookDebug = false; // 是否启用调试日志
 //修改下面的路径为安装路径
const Typora_Installation_Path = &#34;D:\\Typora&#34;;


const resourcesPath = path.join(Typora_Installation_Path, &#34;resources&#34;);
const asarPath = path.join(resourcesPath, &#34;app.asar&#34;);
const appDir = path.join(resourcesPath, &#34;app&#34;);
const appBakDir = path.join(resourcesPath, &#34;app.bak&#34;);
const asarBakPath = path.join(resourcesPath, &#34;app.asar.bak&#34;);
const TyporaEXE = path.join(Typora_Installation_Path, &#34;Typora.exe&#34;);
const LaunchDistJS = path.join(appDir, &#34;launch.dist.js&#34;);
 
// 随机生成一个符合前端验证格式的注册码
function generateRegCode() {
    const chars = &#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&#39;;
    let code = &#39;+&#39;;
    for (let i = 0; i &lt; 8; i++) {
        code += chars.charAt(Math.floor(Math.random() * chars.length));
    }
    code += &#39;#&#39;;
    return code;
}
 
function closeTyporaProcesses() {
    try {
        execSync(&#34;taskkill /F /IM Typora.exe&#34;);
        console.log(chalk.green(&#34;已关闭所有 Typora.exe 进程&#34;));
    } catch (e) {
        console.log(chalk.red(&#34;Typora.exe 未运行或关闭失败,请手动关闭后继续。&#34;));
    }
 
    console.log(
        chalk.yellow(
            &#34;已尝试自动关闭所有 Typora.exe 进程，如果未关闭请手动关闭后再运行此程序。&#34;
        )
    );
 
    // 回车继续
    console.log(chalk.cyan(&#34;请按回车键继续...&#34;));
    readlineSync.question();
}
 
function setRegValue(regKey, name, value) {
    return new Promise((resolve, reject) =&gt; {
        regKey.set(name, WinReg.REG_SZ, value, function (err) {
            if (err) reject(err);
            else resolve();
        });
    });
}
 
function getNowDateStr() {
    const now = new Date();
    const dd = String(now.getDate()).padStart(2, &#34;0&#34;);
    const mm = String(now.getMonth() + 1).padStart(2, &#34;0&#34;);
    const yyyy = now.getFullYear();
    return `${mm}/${dd}/${yyyy}`;
}
const nowDateStr = getNowDateStr();
 
// 要求输入机器码和邮箱
console.log(chalk.cyan(&#34;请输入机器码: &#34;));
const machineCode = readlineSync.question();
console.log(chalk.cyan(&#34;请输入邮箱: &#34;));
const email = readlineSync.question();
// 询问是否开启备份（默认开启）与调试（默认关闭）
console.log(chalk.cyan(&#34;请选择是否开启备份与调试选项:&#34;));
console.log(chalk.cyan(&#34;【建议开启】是否开启备份？(Y/N): &#34;));
const backupAnswer = readlineSync.question();
console.log(chalk.cyan(&#34;【建议关闭】是否开启调试？(Y/N): &#34;));
const debugAnswer = readlineSync.question();
EnableBackup = backupAnswer.toLowerCase() === &#34;y&#34;;
EnableHookDebug = debugAnswer.toLowerCase() === &#34;y&#34;;
 
// Base64 解码
function atob(str) {
    return Buffer.from(str, &#34;base64&#34;).toString(&#34;utf-8&#34;);
}
const atobMachineCode = JSON.parse(atob(machineCode));
 
console.log(chalk.yellow(&#34;deviceId: &#34; + atobMachineCode.l));
console.log(chalk.yellow(&#34;fingerprint: &#34; + atobMachineCode.i));
console.log(chalk.yellow(&#34;version: &#34; + atobMachineCode.v));
 
// 关闭所有 Typora.exe 进程
closeTyporaProcesses();
console.log(chalk.green(&#34;==== 开始破解... ====&#34;));
 
async function main() {
    // 一、反反调试
 
    console.log(chalk.yellow(&#34;一、正在进行反反调试操作...&#34;));
    console.log(chalk.yellow(&#34;解包 asar&#34;));
    await asar.extractAll(asarPath, appDir);
 
    console.log(
        chalk.yellow(&#34;复制 app 到 app.bak（递归复制）【应对完整性校验】&#34;)
    );
    // 2. 复制 app 到 app.bak（递归复制）
    function copyDir(src, dest) {
        if (!fs.existsSync(dest)) fs.mkdirSync(dest, { recursive: true });
        for (const entry of fs.readdirSync(src, { withFileTypes: true })) {
            const srcPath = path.join(src, entry.name);
            const destPath = path.join(dest, entry.name);
            if (entry.isDirectory()) {
                copyDir(srcPath, destPath);
            } else {
                fs.copyFileSync(srcPath, destPath);
            }
        }
    }
    copyDir(appDir, appBakDir);
 
    console.log(chalk.yellow(&#34;移除 app.asar 文件&#34;));
    // 3. 重命名 app.asar 为 app.asar.bak
    if (EnableBackup) {
        fs.renameSync(asarPath, asarBakPath);
    } else {
        fs.rmSync(asarPath, { force: true });
    }
 
    console.log(
        chalk.yellow(&#34;修改 Typora.exe 的 fuse 配置，允许加载未打包的 app 目录&#34;)
    );
 
    if (EnableBackup) {
        // 修改前先备份
        fs.copyFileSync(TyporaEXE, `${TyporaEXE}.bak`);
    }
 
    // 修改fuse配置（同时会修改程序hash）
    flipFuses(TyporaEXE, {
        version: FuseVersion.V1,
        [FuseV1Options.OnlyLoadAppFromAsar]: false,
    });
 
    console.log(chalk.green(&#34;反反调试操作完成！&#34;));
 
    // 二、注入破解代码
    console.log(chalk.yellow(&#34;二、正在注入破解代码到 launch.dist.js...&#34;));
 
    // 读取原文件内容
    let content = fs.readFileSync(LaunchDistJS, &#34;utf-8&#34;);
 
    // 查找第一个require语句后的分号
    const requireRegex = /require\([^)]+\);/;
    const match = requireRegex.exec(content);
 
    if (match) {
        const insertPos = match.index + match[0].length;
        const insertCode = getInsertCode(
            EnableHookDebug,
            atobMachineCode,
            email,
            nowDateStr
        );
        // 插入代码
        content =
            content.slice(0, insertPos) + insertCode + content.slice(insertPos);
        fs.writeFileSync(LaunchDistJS, content, &#34;utf-8&#34;);
        console.log(chalk.green(&#34;成功插入破解代码到 launch.dist.js&#34;));
    } else {
        console.log(
            chalk.red(&#34;未找到 require 语句，破解代码未插入launch.dist.js。&#34;)
        );
    }
 
    console.log(chalk.green(&#34;注入破解代码完成！&#34;));
 
    // // 三、注册激活
    // console.log(chalk.yellow(&#34;三、正在注册激活...&#34;));
    // try {
    //     execSync(`start &#34;&#34; &#34;${TyporaEXE}&#34;`);
    //     console.log(chalk.green(&#34;Typora 已启动！&#34;));
    // } catch (e) {
    //     console.log(chalk.red(&#34;Typora 启动失败，请手动打开。&#34;));
    // }
 
    // const regCode = generateRegCode();
    // console.log(chalk.green(`您的注册码为：${regCode}`));
    // console.log(chalk.yellow(&#34;请复制并用于激活。&#34;));
    // console.log(chalk.cyan(&#34;请按回车键继续...&#34;));
 
 
    // // 关闭Typora进程
    // closeTyporaProcesses();
 
    // 三、修改注册表
    console.log(chalk.yellow(&#34;三、正在修改注册表以关闭联网验证...&#34;));
    // 修改注册表，尽量关闭联网验证
    // 注册表路径
    const regKey = new WinReg({
        hive: WinReg.HKCU,
        key: &#34;\\Software\\Typora&#34;,
    });
 
    try {
        await setRegValue(regKey, &#34;SLicense&#34;, &#34;RHJlYW1OeWE=#0#1/1/2029&#34;);
        console.log(chalk.green(&#34;SLicense 注册表字段写入成功&#34;));
        await setRegValue(regKey, &#34;IDate&#34;, nowDateStr);
        console.log(chalk.green(&#34;IDate 注册表字段写入成功&#34;));
    } catch (err) {
        console.log(chalk.red(&#34;写入注册表失败:&#34;), err);
    }
 
    console.log(chalk.green(&#34;==== 破解完成！使用愉快！====&#34;));
    console.log(chalk.yellow(&#34;后续操作建议：\n&#34;));
    const regCode = generateRegCode();
    console.log(chalk.green(`\t1.您的注册码为：${regCode} 请复制并用于激活。`));
    console.log(chalk.yellow(&#34;\t2. 关闭【自动检查更新】功能，防止被覆盖。&#34;));
    console.log(
        chalk.yellow(
            &#34;\t3. 关闭【Typora服务器使用国内服务器】功能，避免绕过联网验证失败。&#34;
        )
    );
}
 
main();
</code></pre><h3 id=3开始激活>3、开始激活</h3><ol><li><p>在<code>D:\Typora\resources</code>路径下打开命令行窗口</p></li><li><p>安装chalk@4 asar readline-sync winreg @electron/fuses</p></li></ol><pre tabindex=0><code>npm install chalk@4 asar readline-sync winreg @electron/fuses
</code></pre><ol start=3><li>运行脚本</li></ol><pre tabindex=0><code>node pj.js
</code></pre><ol start=4><li>按照提示输入上面复制的机器码</li><li>输入邮箱 <a href=mailto:admin@admin.com rel>admin@admin.com</a></li><li>按照提示输入</li></ol><pre tabindex=0><code>【建议开启】是否开启备份？(Y/N):
Y
【建议关闭】是否开启调试？(Y/N):
N
</code></pre><ol start=7><li>敲回车继续</li></ol><p><img class=lazyload src=/blog/svg/loading.min.svg data-src=https://wanqian6311.github.io/blog/images/Typora%20v1.12.4%20%e7%a0%b4%e8%a7%a3%e5%ad%a6%e4%b9%a0%e8%ae%b0%e5%bd%95/img/Pasted-image20260122201736.png data-srcset="https://wanqian6311.github.io/blog/images/Typora%20v1.12.4%20%e7%a0%b4%e8%a7%a3%e5%ad%a6%e4%b9%a0%e8%ae%b0%e5%bd%95/img/Pasted-image20260122201736.png, https://wanqian6311.github.io/blog/images/Typora%20v1.12.4%20%e7%a0%b4%e8%a7%a3%e5%ad%a6%e4%b9%a0%e8%ae%b0%e5%bd%95/img/Pasted-image20260122201736.png 1.5x, https://wanqian6311.github.io/blog/images/Typora%20v1.12.4%20%e7%a0%b4%e8%a7%a3%e5%ad%a6%e4%b9%a0%e8%ae%b0%e5%bd%95/img/Pasted-image20260122201736.png 2x" data-sizes=auto alt=https://wanqian6311.github.io/blog/images/Typora%20v1.12.4%20破解学习记录/img/Pasted-image20260122201736.png title=Pasted-image20260122201736></p><ol start=8><li>回到命令行安装native-reg</li></ol><pre tabindex=0><code>npm install native-reg
</code></pre><ol start=9><li>完成激活</li></ol><p><img class=lazyload src=/blog/svg/loading.min.svg data-src=https://wanqian6311.github.io/blog/images/Typora%20v1.12.4%20%e7%a0%b4%e8%a7%a3%e5%ad%a6%e4%b9%a0%e8%ae%b0%e5%bd%95/img/Pasted-image20260122202239.png data-srcset="https://wanqian6311.github.io/blog/images/Typora%20v1.12.4%20%e7%a0%b4%e8%a7%a3%e5%ad%a6%e4%b9%a0%e8%ae%b0%e5%bd%95/img/Pasted-image20260122202239.png, https://wanqian6311.github.io/blog/images/Typora%20v1.12.4%20%e7%a0%b4%e8%a7%a3%e5%ad%a6%e4%b9%a0%e8%ae%b0%e5%bd%95/img/Pasted-image20260122202239.png 1.5x, https://wanqian6311.github.io/blog/images/Typora%20v1.12.4%20%e7%a0%b4%e8%a7%a3%e5%ad%a6%e4%b9%a0%e8%ae%b0%e5%bd%95/img/Pasted-image20260122202239.png 2x" data-sizes=auto alt=https://wanqian6311.github.io/blog/images/Typora%20v1.12.4%20破解学习记录/img/Pasted-image20260122202239.png title=Pasted-image20260122202239></p><p><img class=lazyload src=/blog/svg/loading.min.svg data-src=https://wanqian6311.github.io/blog/images/Typora%20v1.12.4%20%e7%a0%b4%e8%a7%a3%e5%ad%a6%e4%b9%a0%e8%ae%b0%e5%bd%95/img/Pasted-image20260122202312.png data-srcset="https://wanqian6311.github.io/blog/images/Typora%20v1.12.4%20%e7%a0%b4%e8%a7%a3%e5%ad%a6%e4%b9%a0%e8%ae%b0%e5%bd%95/img/Pasted-image20260122202312.png, https://wanqian6311.github.io/blog/images/Typora%20v1.12.4%20%e7%a0%b4%e8%a7%a3%e5%ad%a6%e4%b9%a0%e8%ae%b0%e5%bd%95/img/Pasted-image20260122202312.png 1.5x, https://wanqian6311.github.io/blog/images/Typora%20v1.12.4%20%e7%a0%b4%e8%a7%a3%e5%ad%a6%e4%b9%a0%e8%ae%b0%e5%bd%95/img/Pasted-image20260122202312.png 2x" data-sizes=auto alt=https://wanqian6311.github.io/blog/images/Typora%20v1.12.4%20破解学习记录/img/Pasted-image20260122202312.png title=Pasted-image20260122202312></p><p><strong>来源：Typora v1.12.4 安全分析：反反调试与激活劫持</strong>
<strong><a href=https://www.52pojie.cn/thread-2084047-1-1.html%28 target=_blank rel="noopener noreffer">https://www.52pojie.cn/thread-2084047-1-1.html(</a>出处: 吾爱破解论坛)</strong></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2026-01-22</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Twitter" data-sharer=twitter data-url=https://wanqian6311.github.io/blog/posts/typora-v1.12.4-%E7%A0%B4%E8%A7%A3%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/ data-title="Typora v1.12.4 破解学习记录"><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=https://wanqian6311.github.io/blog/posts/typora-v1.12.4-%E7%A0%B4%E8%A7%A3%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Hacker News" data-sharer=hackernews data-url=https://wanqian6311.github.io/blog/posts/typora-v1.12.4-%E7%A0%B4%E8%A7%A3%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/ data-title="Typora v1.12.4 破解学习记录"><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Line" data-sharer=line data-url=https://wanqian6311.github.io/blog/posts/typora-v1.12.4-%E7%A0%B4%E8%A7%A3%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/ data-title="Typora v1.12.4 破解学习记录"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://wanqian6311.github.io/blog/posts/typora-v1.12.4-%E7%A0%B4%E8%A7%A3%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/ data-title="Typora v1.12.4 破解学习记录"><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/blog/>主页</a></span></section></div><div class=post-nav><a href=/blog/posts/typora-v1.12.4-%E8%AF%95%E7%94%A8%E6%9C%9F%E9%87%8D%E7%BD%AE%E4%B8%8E%E5%BC%B9%E7%AA%97%E6%8B%A6%E6%88%AA/ class=prev rel=prev title="Typora v1.12.4 试用期重置与弹窗拦截"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Typora v1.12.4 试用期重置与弹窗拦截</a>
<a href=/blog/posts/sqlmap%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/ class=next rel=next title=sqlmap命令详解>sqlmap命令详解<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>由 <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.155.3">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.3.0"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2024 - 2026</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://github.com/wanqian6311 target=_blank>wanqian6311</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/css/lightgallery-bundle.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/lightgallery.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/thumbnail/lg-thumbnail.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/zoom/lg-zoom.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript src=https://wanqian6311.github.io/blog/js/background.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:50},comment:{},lightgallery:!0}</script><script type=text/javascript src=/blog/js/theme.min.js></script></body></html>